<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memories</title>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Fahkwang:wght@500;700&display=swap" rel="stylesheet">

<style>
html, body {
  height: 100%;
  margin: 0;
  font-family: 'Fahkwang', sans-serif;
  background: linear-gradient(180deg, #fde2e6 0%, #f8bfc8 100%);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.title {
  font-size: 23px;
  font-weight: 550;
  color: #b62247;
  margin-bottom: 20px;
  letter-spacing: 2px;
  text-align: center;
}

/* ---------- 3D Carousel ---------- */
#scroller {
  position: relative;
  width: 90vw;
  max-width: 250px; /* ลดให้พอดีกับมือถือ */
  height: 300px;    /* ลดลงจาก 600px */
  perspective: 1200px;
  margin-bottom: 15px;
}

#scroller .item {
  width: 100%;
  height: 100%;
  position: absolute;
  border-radius: 16px;
  transition: all 0.5s ease;
}

#scroller .item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 16px;
  box-shadow: 0 12px 25px rgba(0,0,0,0.25);
}

/* Position classes */
.left-hidden { opacity:0; z-index:-1; transform: rotateY(25deg) translateX(-140%) scale(0.3);}
.left { opacity:0.6; z-index:1; transform: rotateY(25deg) translateX(-75%) scale(0.65);}
.middle { opacity:1; z-index:2; transform: rotateY(0deg) translateX(0) scale(1);}
.right { opacity:0.6; z-index:1; transform: rotateY(-25deg) translateX(75%) scale(0.65);}
.right-hidden { opacity:0; z-index:-1; transform: rotateY(-25deg) translateX(140%) scale(0.3);}

/* Nav buttons */
.nav {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  pointer-events: none;
}

.prev, .next {
  pointer-events: auto;
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  display: block;
  width: 45px;
  height: 45px;
  background-color: rgba(251,111,146,0.8);
  border-radius: 50%;
  color: #fff;
  font-size: 26px;
  line-height: 45px;
  text-align: center;
  cursor: pointer;
  z-index: 5;
  transition: all 0.2s ease;
}

.prev:hover, .next:hover {
  background-color: rgba(251,111,146,1);
  transform: translateY(-50%) scale(1.1);
}

.prev { left: -15px; }
.next { right: -15px; }

/* ---------- Counter ---------- */
.counter {
  font-size: 16px;
  color: #b84f6a;
  margin-bottom: 15px;
}

/* ---------- Page Buttons ---------- */
.btn-group{
  display:flex;
  gap:12px;
  justify-content: center;
  margin-bottom: 15px;
}

button{
  font-family:'Fahkwang',sans-serif;
  font-size:14px;
  font-weight:600;
  padding:8px 20px;
  border-radius:30px;
  cursor:pointer;
  transition:.25s ease;
}

.back-btn{
  background:transparent;
  border:2px solid #fb6f92;
  color:#fb6f92;
}

.back-btn:hover{
  background:#fb6f92;
  color:#fff;
}

.next-btn{
  border:none;
  background:linear-gradient(135deg,#fb6f92,#ff9db4);
  color:#fff;
}

.next-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 20px rgba(251,111,146,.4);
}

/* ---------- Responsive ---------- */
@media (max-width: 450px){
  #scroller { height: 420px; max-width: 90vw; }
  .prev, .next { width: 40px; height: 40px; font-size: 24px; line-height: 40px;}
}

/* ===============================
   MOBILE SIZE FIX (ADD ONLY)
   =============================== */

/* มือถือทั่วไป */
@media (max-width: 430px){
  #scroller{
    height: 55svh;       /* ใช้ความสูงจอจริง */
    max-height: 380px;   /* กันใหญ่เกิน */
  }
}

/* มือถือจอเตี้ย (เช่น iPhone SE) */
@media (max-height: 680px){
  #scroller{
    height: 52svh;
    max-height: 360px;
  }
}

</style>
</head>

<body>

<div class="title">LOVELY FRAME</div>

<div id="scroller">
  <div class="nav">
    <span class="prev">&#10094;</span>
    <span class="next">&#10095;</span>
  </div>
  <a class="item" href="#"><img src="imagesmemory1.jpeg" /></a>
  <a class="item" href="#"><img src="imagesmemory2.jpeg" /></a>
  <a class="item" href="#"><img src="imagesmemory3.jpeg" /></a>
  <a class="item" href="#"><img src="imagesmemory4.jpeg" /></a>
  <a class="item" href="#"><img src="imagesmemory5.jpeg" /></a>
  <a class="item" href="#"><img src="imagesmemory6.jpeg" /></a>
</div>

<div class="counter" id="counter">1 / 6</div>

<div class="btn-group">
  <button class="back-btn" onclick="goBack()">ย้อนกลับ</button>
</div>

<script>
$(document).ready(function(){
    var items = $('#scroller .item');
    var positions = [];
    var len = items.length;

    function assignPositions() {
        for(var i=0;i<len;i++){
            if(i==0) positions[i]='left-hidden';
            else if(i==1) positions[i]='left';
            else if(i==2) positions[i]='middle';
            else if(i==3) positions[i]='right';
            else positions[i]='right-hidden';
        }
        items.each(function(i){
            $(this).removeClass('left-hidden left middle right right-hidden').addClass(positions[i]);
        });
        var middleIndex = items.index(items.filter('.middle'));
        $('#counter').text((middleIndex+1)+' / '+len);
    }

    function scroll(direction){
        if(direction=='prev') positions.push(positions.shift());
        else if(direction=='next') positions.unshift(positions.pop());
        items.each(function(i){
            $(this).removeClass('left-hidden left middle right right-hidden').addClass(positions[i]);
        });
        var middleIndex = items.index(items.filter('.middle'));
        $('#counter').text((middleIndex+1)+' / '+len);
    }

    assignPositions();
    var autoScroll = setInterval(function(){ scroll('next'); }, 4000);

    $('#scroller').hover(function(){
        clearInterval(autoScroll);
    }, function(){
        autoScroll = setInterval(function(){ scroll('next'); }, 4000);
    });

    $('.prev').click(function(){ scroll('prev'); });
    $('.next').click(function(){ scroll('next'); });
});

function goBack(){ window.history.back(); }
function goNext(){ window.location.href = "random.html"; }
</script>

</body>
</html>
